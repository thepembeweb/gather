<div class="update-container">
    <div class="update-card">
    <div class="update-column">
        <img id="updated-image" src="" />
    </div>
    <div class="divider">
    </div>
    <div class="update-column">
        <h2 class="form-title">Update</h2>

        <form class="input-form" action="/items/update/{{item._id}}" method="post" >
        <label class="form-label" for="title">Title</label>
        <input id="title-input" name="title" maxlength="50" value="{{item.title}}"/>
        {{#with item.errors.title as |error|}}
        <span class="error">{{error.message}}</span>
        {{/with}}
        
        <label class="form-label" for="description">Description</label>
        <textarea id="description-input" name="description">{{item.description}}</textarea>
        {{#with item.errors.description as |error|}}
        <span class="error">{{error.message}}</span>
        {{/with}}

        <label class="form-label" for="imageUrl" >Image Url</label>
        <input id="imageUrl-input" name="imageUrl" oninput="handleChange" value="{{item.imageUrl}}"/>
        {{#with item.errors.imageUrl as |error|}}
        <span class="error">{{error.message}}</span>
        {{/with}}

        <div class="form-navigation">
            <a href="/">
            <img class="back-arrow" src="/img/back.svg" alt="back">
            </a>
            <button class="button submit-button" id="submit-button" type="submit">
            <p>Update</p>
            </button>
        </div>
        </form>
    </div>
    </div>
</div>
<script>
    var img = document.getElementById('updated-image');
    function handleChange(e) {
    var path = e.target.value.match(/^(https*:\/\/)/i) ? '' : 'http://';
    img.src = path + e.target.value;
    }
    document.getElementById('imageUrl-input').oninput = handleChange;
</script>